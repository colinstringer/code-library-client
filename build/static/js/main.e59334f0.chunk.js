(this["webpackJsonpreact-redux-bootstrap-jwt-template"]=this["webpackJsonpreact-redux-bootstrap-jwt-template"]||[]).push([[0],{278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),l=(a(61),a(62),a(19)),s=a(3),u=a(6),i=a.n(u),p=a(13),m="https://code-library-server.herokuapp.com",d=a(15),g=a.n(d),E=function(e){return e.user.token},f=function(e){return e.user.username},b=function(e){return e.appState.message},y=function(e){return e.appState.currentLibraryUsername},v=function(e){return{type:"SET_CURRENT_LIBRARY_USERNAME",payload:e}},h=function(e,t,a){return{type:"SET_MESSAGE",payload:{variant:e,dismissable:t,text:a}}},O=function(e,t,a,n){return function(r){r(h(e,t,a)),setTimeout((function(){return r({type:"CLEAR_MESSAGE"})}),n||3e3)}},j=function(){return function(){var e=Object(p.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=y(a()))&&"undefined"!==n||(n="admin"),t({type:"APP_LOADING"}),e.prev=3,e.next=6,g.a.get("".concat(m,"/library/").concat(n));case 6:r=e.sent,t({type:"FETCH_CURRENT_LIBRARY",payload:r.data.library}),t({type:"APP_DONE_LOADING"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),e.t0.response?(console.log(e.t0.response.data.message),t(h("danger",!0,e.t0.response.data.message))):(console.log(e.t0.message),t(h("danger",!0,e.t0.message))),t({type:"APP_DONE_LOADING"});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"APP_LOADING"}),t.prev=1,t.next=4,g.a.get("".concat(m,"/current-page/").concat(e));case 4:r=t.sent,a({type:"FETCH_CURRENT_PAGE",payload:r.data}),a({type:"APP_DONE_LOADING"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0.response?(console.log(t.t0.response.data.message),a(h("danger",!0,t.t0.response.data.message))):(console.log(t.t0.message),a(h("danger",!0,t.t0.message))),a({type:"APP_DONE_LOADING"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()},x=function(e){return{type:"LOGIN_SUCCESS",payload:e}},N=function(){return function(){var e=Object(p.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOG_OUT"}),t({type:"SET_CURRENT_LIBRARY_USERNAME_DEFAULT"}),t(O("success",!1,"successfully logged out",2e3)),t(j());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},_=a(8),A=a(51),S=a(7),L=a(27),I=a(26),k=a(288);function P(){var e=Object(s.c)(b),t=Object(s.b)(),a=null!==e;return a?r.a.createElement("div",{className:"message"},r.a.createElement(k.a,{show:a,variant:e.variant,dismissible:e.dismissable,onClose:e.dismissable?function(){return t({type:"CLEAR_MESSAGE"})}:null},e.text)):null}function C(){var e=Object(l.f)(),t=Object(s.b)(),a=Object(s.c)(E),c=Object(n.useState)(""),o=Object(_.a)(c,2),u=o[0],d=o[1],f=Object(n.useState)(""),b=Object(_.a)(f,2),y=b[0],v=b[1];return Object(n.useEffect)((function(){null!==a&&e.push("/")}),[a,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(I.a,null,r.a.createElement(S.a,{as:A.a,md:{span:6,offset:3},className:"mt-5"},r.a.createElement("h1",{className:"mt-5 mb-5"},"Login"),r.a.createElement(S.a.Group,{controlId:"formBasicUsername"},r.a.createElement(S.a.Label,null,"Username"),r.a.createElement(S.a.Control,{value:u,onChange:function(e){return d(e.target.value)},type:"username",placeholder:"Enter username",required:!0})),r.a.createElement(S.a.Group,{controlId:"formBasicPassword"},r.a.createElement(S.a.Label,null,"Password"),r.a.createElement(S.a.Control,{value:y,onChange:function(e){return v(e.target.value)},type:"password",placeholder:"Password",required:!0})),r.a.createElement(S.a.Group,{className:"mt-5"},r.a.createElement(L.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),t(function(e,t){return function(){var a=Object(p.a)(i.a.mark((function a(n,r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"APP_LOADING"}),a.prev=1,a.next=4,g.a.post("".concat(m,"/login"),{username:e,password:t});case 4:c=a.sent,n(x(c.data)),n(O("success",!1,"welcome back!",1500)),n({type:"APP_DONE_LOADING"}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),a.t0.response?(console.log(a.t0.response.data.message),n(h("danger",!0,a.t0.response.data.message))):(console.log(a.t0.message),n(h("danger",!0,a.t0.message))),n({type:"APP_DONE_LOADING"});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,y)),d(""),v("")}},"Log in")))))}function R(){var e=Object(l.f)(),t=Object(s.b)(),a=Object(s.c)(E),c=Object(n.useState)(""),o=Object(_.a)(c,2),u=o[0],d=o[1],f=Object(n.useState)(""),b=Object(_.a)(f,2),y=b[0],v=b[1],j=Object(n.useState)(0),w=Object(_.a)(j,2),N=w[0],k=w[1];return Object(n.useEffect)((function(){1===N&&e.push("/"),k(N+1)}),[a,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(I.a,null,r.a.createElement(S.a,{as:A.a,md:{span:6,offset:3},className:"mt-5"},r.a.createElement("h1",{className:"mt-5 mb-5"},"Signup"),r.a.createElement(S.a.Group,{controlId:"formBasicUsernam"},r.a.createElement(S.a.Label,null,"Username"),r.a.createElement(S.a.Control,{value:u,onChange:function(e){return d(e.target.value)},type:"username",placeholder:"Enter username",required:!0}),r.a.createElement(S.a.Text,{className:"text-muted"})),r.a.createElement(S.a.Group,{controlId:"formBasicPassword"},r.a.createElement(S.a.Label,null,"Password"),r.a.createElement(S.a.Control,{value:y,onChange:function(e){return v(e.target.value)},type:"password",placeholder:"Password",required:!0})),r.a.createElement(S.a.Group,{className:"mt-5"},r.a.createElement(L.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),t(function(e,t){return function(){var a=Object(p.a)(i.a.mark((function a(n,r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"APP_LOADING"}),a.prev=1,a.next=4,g.a.post("".concat(m,"/signup"),{username:e,password:t});case 4:c=a.sent,n(x(c.data)),n(O("success",!0,"account created")),n({type:"APP_DONE_LOADING"}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),a.t0.response?(console.log(a.t0.response.data.message),n(h("danger",!0,a.t0.response.data.message))):(console.log(a.t0.message),n(h("danger",!0,a.t0.message))),n({type:"APP_DONE_LOADING"});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,y)),d(""),v("")}},"Sign up")))))}a(88);var T=function(e){return e.currentPage},D=(a(89),a(34)),G=a.n(D),U=a(287);var B=function(e){var t=e.codeblock,a=e.output;return r.a.createElement(U.a,{className:"row"},r.a.createElement(A.a,{xs:12,md:12,lg:6,xl:6},r.a.createElement("p",null,"Code"),r.a.createElement(G.a,{language:"javascript"},t)),r.a.createElement(A.a,{xs:12,md:12,lg:{span:5,offset:1},xl:{span:5,offset:1}},r.a.createElement("p",null,"Output"),r.a.createElement(G.a,{language:"javascript"},a)))};a(278);var M=function(){var e=parseInt(Object(l.g)().pageId);return Object(s.c)(f)!==Object(s.c)(y)?null:r.a.createElement("div",{className:"main-header"},r.a.createElement("a",{href:"/view-page/".concat(e)},"View page"),r.a.createElement("a",{href:"/edit-page/".concat(e)},"Edit page"))};var F=function(){var e=Object(s.b)(),t=parseInt(Object(l.g)().pageId),a=Object(s.c)(T);return Object(n.useEffect)((function(){e(w(t))}),[e,t]),r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(P,null),r.a.createElement("div",{className:"view-page"},r.a.createElement("h1",null,a.name),r.a.createElement(I.a,{fluid:!0},a.examples.map((function(e){return r.a.createElement(B,{key:e.id,codeblock:e.codeblock,output:e.output})})))))};a(279),a(280);var z=function(){var e=Object(s.b)(),t=parseInt(Object(l.g)().pageId),a=Object(n.useState)("enter new codeblock"),c=Object(_.a)(a,2),o=c[0],u=c[1],d=Object(n.useState)("enter new output"),f=Object(_.a)(d,2),b=f[0],y=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"add-example-row"},r.a.createElement("p",null,"Add example"),r.a.createElement(A.a,{xs:12,md:12,lg:12,xl:12,className:"add-example-col"},r.a.createElement("textarea",{rows:"4",cols:"60",maxLength:"2000",type:"text",className:"name",value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement(A.a,{xs:12,md:12,lg:12,xl:12,className:"add-example-col"},r.a.createElement("textarea",{rows:"4",cols:"35",maxLength:"2000",type:"text",className:"name",value:b,onChange:function(e){return y(e.target.value)}})),r.a.createElement("h2",null,"Preview for new example"),r.a.createElement(A.a,{xs:12,md:12,lg:12,xl:12,className:"add-example-col"},r.a.createElement(B,{codeblock:o,output:b})),r.a.createElement("button",{className:"add-example-button",onClick:function(){e(function(e,t,a){return function(){var n=Object(p.a)(i.a.mark((function n(r,c){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=E(c()),n.prev=1,n.next=4,g.a.post("".concat(m,"/example"),{codeblock:e,output:t,pageId:a},{headers:{Authorization:"Bearer ".concat(o)}});case 4:r(w(a)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),n.t0.response?(console.log(n.t0.response.data.message),r(h("danger",!0,n.t0.response.data.message))):(console.log(n.t0.message),r(h("danger",!0,n.t0.message)));case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()}(o,b,t)),u("enter new codeblock"),y("enter new output")}},"Add new example")))};var Y=function(){var e=Object(s.b)(),t=Object(s.c)(T),a=parseInt(Object(l.g)().pageId);return Object(n.useEffect)((function(){e(w(a))}),[e,a]),r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(P,null),r.a.createElement("div",{className:"view-page"},r.a.createElement("h1",null,"Edit the '",t.name,"' page"),r.a.createElement(I.a,{fluid:!0},t.examples.map((function(e){return r.a.createElement(B,{key:e.id,codeblock:e.codeblock,output:e.output})})),r.a.createElement(z,null))))};a(281);var H=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-content"},r.a.createElement("h2",{style:{marginTop:"10px"}},"Have you ever encountered this situation?"),r.a.createElement("p",null,"You're programming a feature you know you've created elsewhere, or you've seen it somewhere on the web, and you want to copy it instead of starting again from scratch. But you can't remember where exactly it was."),r.a.createElement("p",null,"3 dusty old projects, and 10 google searches later yet you still haven't found what you were looking for. If only there was a way to save all of our important reusable code in one place."),r.a.createElement("h3",null,"Because I encountered this problem many times over I decided to create the code library."),r.a.createElement("p",null,"The Code Library is a platform where you can store and organize as many code snippets as you like."),r.a.createElement("p",null,"But the code library isn't simply for storing your own code. It's also a place to share your code with people all across the world. (this feature is still in development)"),r.a.createElement("p",null,"There is a general library with code snippets that everyone can access.",r.a.createElement("br",null),"Once you have an account and are logged in, you are able to create your own code library."),r.a.createElement("h2",null,"Instructions for a personal library"),r.a.createElement("p",null,"1) Create an account or login"),r.a.createElement("p",null,'2) Press "my library"'),r.a.createElement("p",null,"3) In the sidebar, add a category and then inside that category add a page"),r.a.createElement("p",null,"4) Open the page by clicking on it"),r.a.createElement("p",null,'5) Press "edit page"'),r.a.createElement("p",null,"6) Add an example by entering the 2 textfields. The 1st textfield is for your code. The 2nd textfield is optional, it's for when your code has an output."),r.a.createElement("p",null,'7) Return to the view mode of your page by pressing "view page"'))))};a(282);function q(){var e=Object(s.b)(),t=Object(s.c)(E),a=Object(s.c)(f),n=Object(l.f)();var c=t?r.a.createElement("button",{style:{fontSize:"20px"},onClick:function(){e(N()),n.push("/")}},"Logout"):r.a.createElement("a",{href:"/login"},"Login"),o=t&&"admin"!==a&&"undefined"!==a?r.a.createElement("button",{style:{fontSize:"20px"},onClick:function(){e(v(a)),e(j()),n.push("/")}},"My Library"):null;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-left"},r.a.createElement("h1",null,"The Code Library"),r.a.createElement("a",{href:"/"},"Home"),r.a.createElement("button",{style:{fontSize:"20px"},onClick:function(){e(v("admin")),e(j()),n.push("/")}},"General Library"),o),r.a.createElement("div",{className:"header-right"},c,r.a.createElement("a",{href:"/signup"},"Signup")))}a(283);var K=function(e){return e.currentLibrary};var V=function(e){var t=e.category,a=e.categoryStyle,c=e.linkStyle,o=e.inputStyle,l=Object(s.b)(),u=Object(s.c)(f),d=Object(s.c)(y),b=Object(n.useState)(""),v=Object(_.a)(b,2),O=v[0],w=v[1],x=u===d?r.a.createElement("input",{type:"text",placeholder:" + add new page...",value:O,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){var a,n;"Enter"===e.key&&(w(""),l((a=O,n=t.id,function(){var e=Object(p.a)(i.a.mark((function e(t,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=E(r()),e.prev=1,e.next=4,g.a.post("".concat(m,"/page"),{name:a,categoryId:n},{headers:{Authorization:"Bearer ".concat(c)}});case 4:t(j()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response?(console.log(e.t0.response.data.message),t(h("danger",!0,e.t0.response.data.message))):(console.log(e.t0.message),t(h("danger",!0,e.t0.message)));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}())))},onBlur:function(){return w("")},style:o}):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:a},t.name),t.pages.map((function(e){return r.a.createElement("a",{key:e.id,href:"/view-page/".concat(e.id),style:c},e.name)})),x)};var J=function(){var e=Object(s.b)(),t=Object(s.c)(K),a=Object(s.c)(f),c=Object(s.c)(y),o=Object(n.useState)("30px"),l=Object(_.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("20px"),v=Object(_.a)(b,2),O=v[0],w=v[1],x=Object(n.useState)("170px"),N=Object(_.a)(x,2),A=N[0],S=N[1],L=Object(n.useState)(""),I=Object(_.a)(L,2),k=I[0],P=I[1];Object(n.useEffect)((function(){e(j())}),[e]);var C={fontSize:u},R={fontSize:O},T={width:A},D=a===c?r.a.createElement("input",{type:"text",placeholder:" + add new category...",value:k,onChange:function(e){return P(e.target.value)},onKeyPress:function(a){var n,r;"Enter"===a.key&&(P(""),e((n=k,r=t.id,function(){var e=Object(p.a)(i.a.mark((function e(t,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=E(a()),e.prev=1,e.next=4,g.a.post("".concat(m,"/category"),{name:n,libraryId:r},{headers:{Authorization:"Bearer ".concat(c)}});case 4:t(j()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response?(console.log(e.t0.response.data.message),t(h("danger",!0,e.t0.response.data.message))):(console.log(e.t0.message),t(h("danger",!0,e.t0.message)));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}())))},onBlur:function(){return P("")},style:T}):null;return r.a.createElement("div",{className:"sidebar",onMouseEnter:function(){d("30px"),w("20px"),S("170px")},onMouseLeave:function(){d("0px"),w("0px"),S("0px")}},t.categories.map((function(e){return r.a.createElement(V,{key:e.id,category:e,categoryStyle:C,linkStyle:R,inputStyle:T})})),r.a.createElement("br",null),D)};var W=function(){var e=Object(s.b)(),t=Object(s.c)(y);return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=E(a()))){e.next=3;break}return e.abrupt("return");case 3:return t({type:"APP_LOADING"}),e.prev=4,e.next=7,g.a.get("".concat(m,"/me"),{headers:{Authorization:"Bearer ".concat(n)}});case 7:r=e.sent,t({type:"TOKEN_STILL_VALID",payload:r.data}),t({type:"APP_DONE_LOADING"}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response?console.log(e.t0.response.message):console.log(e.t0),t(N()),t({type:"APP_DONE_LOADING"});case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),Object(n.useEffect)((function(){"undefined"===t&&e({type:"SET_CURRENT_LIBRARY_USERNAME_DEFAULT"})}),[e,t]),r.a.createElement("div",{className:"grid-container"},r.a.createElement(q,null),r.a.createElement(J,null),r.a.createElement("div",{className:"main"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:H}),r.a.createElement(l.a,{path:"/view-page/:pageId",component:F}),r.a.createElement(l.a,{path:"/edit-page/:pageId",component:Y}),r.a.createElement(l.a,{path:"/signup",component:R}),r.a.createElement(l.a,{path:"/login",component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(18),$=a(52),Q=a(16),Z={loading:!1,message:null,currentLibraryUsername:localStorage.getItem("currentLibraryUsername")},ee={token:localStorage.getItem("token")},te={categories:[]},ae={name:"",examples:[]},ne=Object(X.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOADING":return Object(Q.a)({},e,{loading:!0});case"APP_DONE_LOADING":return Object(Q.a)({},e,{loading:!1});case"SET_MESSAGE":return Object(Q.a)({},e,{message:t.payload});case"CLEAR_MESSAGE":return Object(Q.a)({},e,{message:null});case"SET_CURRENT_LIBRARY_USERNAME_DEFAULT":return localStorage.setItem("currentLibraryUsername","admin"),Object(Q.a)({},e,{currentLibraryUsername:"admin"});case"SET_CURRENT_LIBRARY_USERNAME":return localStorage.setItem("currentLibraryUsername",t.payload),Object(Q.a)({},e,{currentLibraryUsername:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(Q.a)({},e,{},t.payload);case"LOG_OUT":return localStorage.removeItem("token"),Object(Q.a)({},ee,{token:null});case"TOKEN_STILL_VALID":return Object(Q.a)({},e,{},t.payload);default:return e}},currentLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_LIBRARY":return t.payload;default:return e}},currentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_PAGE":return t.payload;default:return e}}}),re=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d)(Object(X.a)($.a)),ce=Object(X.e)(ne,re),oe=a(17);a(284);o.a.render(r.a.createElement(oe.a,null,r.a.createElement(s.a,{store:ce},r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){e.exports=a(285)},61:function(e,t,a){},62:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.e59334f0.chunk.js.map